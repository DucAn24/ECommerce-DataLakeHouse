# Kafka Connect Worker Configuration (KRaft Mode)
# No Zookeeper needed - works with KRaft mode Kafka

# Bootstrap servers (KRaft mode)
bootstrap.servers=kafka:29092

# Connect cluster configuration
group.id=compose-connect-group
key.converter=org.apache.kafka.connect.json.JsonConverter
value.converter=org.apache.kafka.connect.json.JsonConverter
key.converter.schemas.enable=false
value.converter.schemas.enable=false

# Internal storage topics (managed by Kafka in KRaft mode)
config.storage.topic=docker-connect-configs
offset.storage.topic=docker-connect-offsets
status.storage.topic=docker-connect-status

# Replication factors (for single-broker setup)
config.storage.replication.factor=1
offset.storage.replication.factor=1
status.storage.replication.factor=1

# Additional topic settings for KRaft mode
config.storage.partitions=1
offset.storage.partitions=25
status.storage.partitions=5

# Flush intervals
offset.flush.interval.ms=10000
offset.flush.timeout.ms=5000

# Plugin path
plugin.path=/usr/share/java,/usr/share/confluent-hub-components

# REST API configuration
rest.port=8083
rest.advertised.host.name=kafka-connect
rest.advertised.port=8083

# Producer/Consumer interceptors for monitoring
producer.interceptor.classes=io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor
consumer.interceptor.classes=io.confluent.monitoring.clients.interceptor.MonitoringConsumerInterceptor

# Security settings for KRaft mode
client.dns.lookup=use_all_dns_ips
connections.max.idle.ms=540000

# Logging (removed Zookeeper related loggers)
log4j.rootLogger=INFO, stdout
log4j.logger.org.reflections=ERROR
log4j.logger.org.apache.kafka.connect=INFO
